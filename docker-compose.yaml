version: '3'
services:
  ubuntu2004:
    container_name: ubuntu2004_develop
    image: learn:ubuntu2004_develop
    build:
      context: .
      dockerfile: Dockerfile
      args:
        cmake_version: 3.27.3
    volumes:
     - /tmp/.X11-unix:/tmp/.X11-unix
     - $HOME/.Xauthority/:/root/.Xauthority
     - ./share_dir:/share_dir
    environment:
      DISPLAY: $DISPLAY
      XDG_RUNTIME_DIR: $XDG_RUNTIME_DIR
    network_mode: host
    pid: host
    privileged: true
    deploy:
    tty: true
